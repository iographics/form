!function(e,t){"object"==typeof exports?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e)}(this,function(e){function r(e){void 0!==e.length?this._targetElement=e:this._targetElement=[e],void 0===window._progressjsId&&(window._progressjsId=1),void 0===window._progressjsIntervals&&(window._progressjsIntervals={}),this._options={theme:"blue",overlayMode:!1,considerTransition:!0}}function s(e){var t,r,s,i,n;e.hasAttribute("data-progressjs")||(t=function(e){var t={};"body"===e.tagName.toLowerCase()?(t.width=e.clientWidth,t.height=e.clientHeight):(t.width=e.offsetWidth,t.height=e.offsetHeight);var r=0,s=0;for(;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)r+=e.offsetLeft,s+=e.offsetTop,e=e.offsetParent;return t.top=s,t.left=r,t}.call(this,e),e.setAttribute("data-progressjs",window._progressjsId),(r=document.createElement("div")).className="progressjs-progress progressjs-theme-"+this._options.theme,"body"===e.tagName.toLowerCase()&&(r.style.position="fixed"),r.setAttribute("data-progressjs",window._progressjsId),(s=document.createElement("div")).className="progressjs-inner",(i=document.createElement("div")).className="progressjs-percent",i.innerHTML="1%",s.appendChild(i),this._options.overlayMode&&"body"===e.tagName.toLowerCase()?(r.style.left=0,r.style.right=0,r.style.top=0,r.style.bottom=0):(r.style.width=this._options.width||t.width+"px",r.style.height=this._options.height||"2px",this._options.overlayMode&&(r.style.height=t.height+"px")),r.appendChild(s),(n=document.createElement("div")).className="progressjs-container",n.appendChild(r),e.appendChild(n),a(e,1),++window._progressjsId)}function a(r,s){var i=this;100<=s&&(s=100),r.hasAttribute("data-progressjs")&&setTimeout(function(){void 0!==i._onProgressCallback&&i._onProgressCallback.call(i,r,s),(e=l(r)).style.width=parseInt(s)+"%";var e=e.querySelector(".progressjs-percent"),t=parseInt(e.innerHTML.replace("%",""));!function(e,t,r){var n=!0;r<t&&(n=!1);var o=10;!function e(t,r,s){var i=Math.abs(r-s);i<3?o=30:i<20?o=20:intervanIn=1,r-s!=0&&(t.innerHTML=(n?++r:--r)+"%",setTimeout(function(){e(t,r,s)},o))}(e,t,r)}(e,t,parseInt(s))},50)}function l(e){var t=parseInt(e.getAttribute("data-progressjs"));return document.querySelector('.progressjs-container > .progressjs-progress[data-progressjs="'+t+'"] > .progressjs-inner')}function i(e){for(var t=0,r=this._targetElement.length;t<r;t++){var s,i,n=this._targetElement[t];n.hasAttribute("data-progressjs")&&(s=l(n),(i=parseInt(s.style.width.replace("%","")))&&a.call(this,n,i+(e||1)))}}function t(){void 0!==this._onBeforeEndCallback&&(!0===this._options.considerTransition?l(this._targetElement[0]).addEventListener(function(){var e,t=document.createElement("fakeelement"),r={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in r)if(void 0!==t.style[e])return r[e]}(),this._onBeforeEndCallback,!1):this._onBeforeEndCallback.call(this));for(var e=parseInt(this._targetElement[0].getAttribute("data-progressjs")),t=0,r=this._targetElement.length;t<r;t++){var s=this._targetElement[t],i=l(s);if(!i)return;var n=parseInt(i.style.width.replace("%","")),o=1;n<100&&(a.call(this,s,100),o=500),function(e,t){setTimeout(function(){e.parentNode.className+=" progressjs-end",setTimeout(function(){e.parentNode.parentNode.removeChild(e.parentNode),t.removeAttribute("data-progressjs")},1e3)},o)}(i,s)}if(window._progressjsIntervals[e])try{clearInterval(window._progressjsIntervals[e]),window._progressjsIntervals[e]=null,delete window._progressjsIntervals[e]}catch(e){}}function n(e){if("object"==typeof e)return new r(e);if("string"!=typeof e)return new r(document.body);var t=document.querySelectorAll(e);if(t)return new r(t);throw new Error("There is no element with given selector.")}return n.version="0.1.0",n.fn=r.prototype={clone:function(){return new r(this)},setOption:function(e,t){return this._options[e]=t,this},setOptions:function(e){return this._options=function(e,t){var r={};for(var s in e)r[s]=e[s];for(var s in t)r[s]=t[s];return r}(this._options,e),this},start:function(){return function(){void 0!==this._onBeforeStartCallback&&this._onBeforeStartCallback.call(this);for(var e=0,t=this._targetElement.length;e<t;e++)s.call(this,this._targetElement[e])}.call(this),this},set:function(e){return function(e){for(var t=0,r=this._targetElement.length;t<r;t++)a.call(this,this._targetElement[t],e)}.call(this,e),this},increase:function(e){return i.call(this,e),this},autoIncrease:function(e,t){return function(e,t){var r=this,s=parseInt(this._targetElement[0].getAttribute("data-progressjs"));void 0!==window._progressjsIntervals[s]&&clearInterval(window._progressjsIntervals[s]),window._progressjsIntervals[s]=setInterval(function(){i.call(r,e)},t)}.call(this,e,t),this},end:function(){return t.call(this),this},onbeforeend:function(e){if("function"!=typeof e)throw new Error("Provided callback for onbeforeend was not a function");return this._onBeforeEndCallback=e,this},onbeforestart:function(e){if("function"!=typeof e)throw new Error("Provided callback for onbeforestart was not a function");return this._onBeforeStartCallback=e,this},onprogress:function(e){if("function"!=typeof e)throw new Error("Provided callback for onprogress was not a function");return this._onProgressCallback=e,this}},e.progressJs=n}),function(){function e(){this.init=function(){(function(){var e=$$(".form-all").first(),t="",r="id_"+progressBarqid;c||f?(t='<div id="'+r+'"  class="progressBar-newDefaultTheme'+(o?" fixed":"")+'">',t+='   <div class="progressBarContainer">',t+='       <div id="progressBarWidget"></div>',t+='       <div class="progressBarSubtitle">',t+='           <div class="innerProgressBarSubtitle">',t+='               <span id="progressPercentage">0% completed</span>',t+='               <span id="progressSubmissionReminder" style="display:none; margin-left: 10px;">'+b+".</span>",t+='               <span id="progressTextCompleted" style="margin-left: 2px;">Completed</span>',t+="           </div>",t+='           <div id="progressFieldTotal">',t+='               <span id="status_text1">'+(m?" "+g:v)+"</span>",t+='               <span id="progressCompleted" style="margin-left:2px">0</span>',t+="               <span>/</span>",t+='               <span id="progressTotal"></span>',t+="           </div>",t+="       </div>",t+="   </div>"):(t='<div id="'+r+'" class="progressBarContainer'+(o?" fixed":"")+'">',t+='    <div id="progressBarWidget"></div>',t+='    <div class="progressBarSubtitle">',t+='        <span id="progressPercentage">0% completed</span>',t+='        <span id="progressCompleted" style="margin-left:10px">0</span>',t+="        <span>/</span>",t+='        <span id="progressTotal"></span> <span id="status_text1">'+(m?" "+g:v)+".</span> ",t+='        <span id="progressSubmissionReminder" style="display:none; margin-left: 10px;">'+b+".</span>",t+="    </div>"),t+="</div>";var s=parseInt($$(".jotform-form").first().getStyle("padding"));!o||0!==s||c||f||(t+='<div class="progressBarContainer">&nbsp;</div>');e.insert({top:t}),theme="undefined"!=typeof theme&&0<theme.length&&""!==theme&&"{theme}"!==theme?(theme=theme.replace(/\s+/g,""),theme.charAt(0).toLowerCase()+theme.slice(1)):"islandBlue";{var i;n=progressJs("#progressBarWidget").setOptions({height:"20px",width:"100%",boxSizing:"border-box",theme:theme}).start(),(c||f)&&(i=document.getElementsByClassName("progressjs-progress")[0].className.split(" ")[0]+" progressjs-theme-newDefault",document.getElementsByClassName("progressjs-progress")[0].className=i)}})(),function(){{var e,t;$$(".form-line").each(function(e){var t=e.id.split("_")[1];if(!k(e)){if(m)if(e.hasClassName("form-field-hidden")||e.hasClassName("always-hidden")){if(!e.hasClassName("jf-required"))return;p.push(e.id)}else if(!$$("#id_"+t+'[class*="required"]').first())return;if(m||!e.hasClassName("always-hidden")){e.id in u||(u[e.id]=!1);var r=$("id_"+t),s=JotForm.getInputType(t);switch(s){case"file":j(r,I(s,0)),E(r,I(s,0)),"multiple"===$$("#id_"+t+" input").first().readAttribute("multiple")&&(j(r,I(s,1),!0),E(r,I(s,1)));break;case"datetime":j(r,I(s,0)),E(r,I(s,0)),$$("#id_"+t+" select").each(function(e){j($(e),I(s,1)),E($(e),I(s,1),t)});break;case"appointment":j($(e),I(s)),E($("input_"+t+"_date"),I(s),t);break;case"time":c||f?h.default.forEach(function(e){j(r,e),E(r,e)}):$$("#id_"+t+" select").each(function(e){j($(e),I(s)),E($(e),I(s),t)});break;case"birthdate":$$("#id_"+t+" select").each(function(e){j($(e),I(s)),E($(e),I(s),t)});break;case"radio":case"checkbox":case"signature":case"select":case"number":case"widget":h[s].forEach(function(e){"widget"===s&&(r=$("input_"+t),JotForm.widgetsWithConditions.push(t)),j(r,e),E(r,e)});break;default:h.default.forEach(function(e){j(r,e),E(r,e)})}}}}),function(){var e=s("mode"),t=s("sid");return e&&("edit"===e||"inlineEdit"===e||"submissionToPDF"===e)&&t}()||JotForm.saveForm?(e=0,t=setInterval(function(){var i;5e3<(e+=100)?clearInterval(t):$("JotFormPopulatedFields")&&0<$("JotFormPopulatedFields").getValue().length&&(clearInterval(t),i=$("JotFormPopulatedFields").getValue().split(","),function e(t){var r=i[t];var s=r.replace("q","id_");{s in u&&w($$(".form-line#"+s).first())}t++;t<i.length?e(t):_()}(0))},100)):_()}}();var e=$$(".language-dd").first();{var t;e?t=setInterval(function(){"none"!==e.style.display&&(clearInterval(t),r())},100):r()}"undefined"!=typeof progressBarqid&&$$(".direct-embed-"+progressBarqid).first().up(".form-line").hide()},this.getHiddenList=function(){return p},this.getFieldList=function(){return u};var a=["select","radio","checkbox","file","combined","email","address","datetime","appointment","time","birthdate","number","autocomplete","text","textarea","signature","div","slider","widget","rating"],n=!1,m=onlyCountReq&&"Yes"===onlyCountReq,o=fixedProgressBar&&"Yes"===fixedProgressBar,l=[],d=["facebookLikeBox","timeTracker"],u={},i=barColor,c=window.newDefaultTheme&&"v2"===window.newDefaultTheme,f=window&&window.JotForm&&window.JotForm.extendsNewTheme,p=[],h={radio:["click","change"],checkbox:["click","change"],signature:["click","change"],select:["change"],file:["change","click"],datetime:["date:changed","change"],appointment:"input",time:"change",birthdate:"change",number:["keyup","click","change"],widget:["change"],default:["keyup","change"]};if("undefined"!=typeof deleteLabelProgressBar){l=-1<deleteLabelProgressBar.indexOf("\n")?deleteLabelProgressBar.split("\n"):deleteLabelProgressBar;for(var e=0;l.length>e;e++)l[e]=B(l[e])}var g=c||f?"Required fields":"required fields completed";"undefined"!=typeof requiredProgressBar&&"<empty>"!=requiredProgressBar&&""!=requiredProgressBar&&(g=requiredProgressBar);var v=c||f?"Fields":"populated fields completed";"undefined"!=typeof fieldsProgressBar&&"<empty>"!=fieldsProgressBar&&""!=fieldsProgressBar&&(v=fieldsProgressBar);var b="Please submit your completed form";function w(t){var e,r,i,s,n,o,a,l=t.id.split("_")[1],d=JotForm.getInputType(l);function c(e){return-1!==["radio","checkbox"].indexOf(e.type)?e.checked:!!e.value&&!e.value.strip(" ").empty()}return e="file"===d&&t.select(".qq-upload-list").first()?0<t.select(".qq-upload-list").first().innerHTML.length:JotForm.fieldHasContent(l),"control_matrix"===t.getAttribute("data-type")&&!t.hasClassName("form-field-hidden")&&t.hasClassName("jf-required")?(r=$("cid_"+l).select("table").first(),n=s=!(i=[]),(o=r.select(".form-matrix-values input, select")[0]).className.indexOf("requireOneAnswer")+1?s=!0:o.className.indexOf("requireEveryCell")+1&&(n=!0),r.select(".form-matrix-value-tr").each(function(e,t){if("combined"===d||"radio"===d||"checkbox"===d){if(e.select("input").each(function(e){("combined"===d&&"checkbox"!==e.type&&"radio"!==e.type&&e.value&&-1==i.indexOf(t)||e.checked&&"text"!==e.type&&-1==i.indexOf(t)||("radio"===d||"checkbox"===d)&&"text"==e.type&&e.value&&-1==i.indexOf(t))&&i.push(t)}),0<e.select("select").length)for(var r=e.select("select"),s=0;s<r.length;s++)if(0<r[s].options.selectedIndex&&-1==i.indexOf(t)){i.push(t);break}}else if("select"===d)for(r=e.select("select"),s=0;s<r.length;s++)if(0<r[s].options.selectedIndex){i.push(s);break}}),n&&(a=Array.from(r.rows).map(function(e){return Array.from(e.querySelectorAll("input,select"))}).filter(function(e){return e.length}).map(function(e){var t=e.every(function(e){return"radio"!==e.type})||e.filter(function(e){return"radio"===e.type}).map(c).any(function(e){return e}),r=e.filter(function(e){return"radio"!==e.type}).map(c).every(function(e){return e});return t&&r}).every(function(e){return e})),n&&a||!n&&(i.length==r.select(".form-matrix-value-tr").length||s&&i.length)?(u[t.id]=!0,t.writeAttribute("data-progress","true")):(u[t.id]=!1,t.writeAttribute("data-progress","false"))):e&&!t.hasClassName("form-field-hidden")?m?(0==t.select(".form-label").length&&(u[t.id]=!0,t.writeAttribute("data-progress","true")),t.select(".form-label").each(function(e){e.select(".form-required").length?t.hasClassName("jf-required")&&(u[t.id]=!0,t.writeAttribute("data-progress","true")):(u[t.id]=!1,t.writeAttribute("data-progress","false"))})):(u[t.id]=!0,t.writeAttribute("data-progress","true")):(u[t.id]=!1,t.writeAttribute("data-progress","false")),u[t.id]}"undefined"!=typeof submitProgressBar&&"<empty>"!=submitProgressBar&&""!=submitProgressBar&&(b=submitProgressBar);var t=null;function y(e){void 0!==e.up(".form-line")&&(e=e.up(".form-line")),e.hasClassName("form-line-error")||e.select(".form-custom-hint")&&0<e.select(".form-custom-hint").length?(void 0!==t&&(clearInterval(t),t=null),t=setInterval(function(){w(e)&&(clearInterval(t),t=null,_())},250)):(w(e),_())}function _(){var e=Object.keys(u).length-p.length,t=0;for(var r in u)u[r]&&t++;var s=parseInt(100/e*t);isNaN(s)?t=s=0:100<s&&(s=100),n.set(s),$("progressPercentage").update(s+"% "),$("progressCompleted").update(t),100===s?($("progressSubmissionReminder").show(),$("status_text1").hide()):($("progressSubmissionReminder").hide(),$("status_text1").show()),(c||f)&&(document.querySelector(".progressjs-inner").style.backgroundColor=i,100===s?($("progressTextCompleted").hide(),$("status_text1").show(),document.querySelector(".progressjs-inner").addClassName("progressjs-inner-completed"),document.querySelector(".progressBarSubtitle").style.color=i):$("progressTextCompleted").show()),$("progressTotal").update(e)}function x(e){for(var t=!1,r=0;r<p.length;r++)if(p[r]===e){t=!0;break}t||p.push(e)}function C(e){for(var t=0;t<p.length;t++)p[t]===e&&p.splice(t,1)}function j(t,e,r){r?t.observe(e,function(){var e=this;setTimeout(function(){y(e)},1e3)}):t.observe(e,function(){var e;this.hasClassName("form-field-hidden")?x(this.id):m?(e=this.id.split("_")[1],"widget"===JotForm.getInputType(e)?C(this.id):this.select(".form-label").each(function(e){e.select(".form-required").length||x(t.id)})):C(this.id),y(this)})}function E(e,t,r){var s=void 0!==r?r:e.id.split("_")[1],i=!!~t.indexOf(":");JotForm.fieldHasContent(s)&&(i?e.fire(t):e.triggerEvent(t))}function r(){if(0<JotForm.conditions.length){for(var i={},e=0;e<JotForm.conditions.length;e++)for(var t=JotForm.conditions[e].terms,r=JotForm.conditions[e].action,s=0;s<t.length;s++){var n=Number(t[s].field);n in i||(i[n]=[]);for(var o=0;o<r.length;o++)if("visibility"in r[o]){var a=r[o].visibility.toLowerCase();if("show"===a||"hide"===a||"disable"===a||m&&"require"===a||"unrequire"===a){var l=Number(r[o].field);i[n].push(l)}else if("showmultiple"===a||"hidemultiple"===a||"requiremultiple"===a||"unrequiremultiple"===a)for(var d=r[o].fields,c=0;c<d.length;c++){l=Number(d[c]);i[n].push(l)}}}for(var u in i){var f=I(JotForm.getInputType(u));if($("id_"+u)&&0<i[u].length)for(var p=(g=f,"[object Array]"===Object.prototype.toString.call(g)?f:[f]),h=0;h<p.length;h++)void 0!==p[h]&&$("id_"+u).observe(p[h],function(){for(var e=this.id.split("_")[1],t=0;t<i[e].length;t++){var r=i[e][t],s=$("id_"+r);s&&(k(s)||((s.hasClassName("form-field-hidden")||s.hasClassName("always-hidden")||s.select("input, select").length&&s.select("input, select").first().disabled?x:C)(s.id),m&&(!s.select(".form-required").length||s.hasClassName("form-field-hidden")||s.hasClassName("always-hidden")?x:C)(s.id),y(s)))}})}}var g}function k(e){var t,r,s,i=e.id.split("_")[1],n=JotForm.getInputType(i),o=!1;return(!a.include(n)||(e.select(".form-label").each(function(e){var t=e.clone(!0);t.select(".form-required").length&&t.select(".form-required").first().remove(),s=B(t.textContent||t.innerText)}),s&&0<s.length&&-1<l.indexOf(s))||(r=e)&&void 0!==r.select("input.widget-static").first()||function(e,t){var r=!1;if("widget"==t){var s=e.select("iframe").first();if(void 0!==s)for(var i=s.src,n=0;n<d.length;n++)-1<i.indexOf(d[n])&&(r=!0)}return r}(e,n)||(t=e).select("input").first()&&t.select("input").first().readOnly)&&(o=!0),o}function s(e,t){null===t&&(t=!1),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.href);return null===r?t:decodeURIComponent(r[1])}function I(e,t){return e=e in h?e:"default",void 0!==t?h[e][t]:h[e]}function B(e){return e.replace(/^[\n\t ]+/,"").replace(/[\n\t ]+$/,"")}}document.observe("dom:loaded",function(){setTimeout(function(){Element.prototype.triggerEvent=function(e){if(document.createEvent){var t=document.createEvent("HTMLEvents");return t.initEvent(e,!0,!0),this.dispatchEvent(t)}if(this.fireEvent)return this.fireEvent("on"+e)},(new e).init()},1e3)})}();
//# sourceMappingURL=scripts.min.js.map